{"ast":null,"code":"import _classCallCheck from \"C:/Users/Peter/Desktop/Github/restful-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/Peter/Desktop/Github/restful-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"C:/Users/Peter/Desktop/Github/restful-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/Peter/Desktop/Github/restful-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\Peter\\\\Desktop\\\\Github\\\\restful-api\\\\src\\\\components\\\\graph\\\\graph.js\";\nimport React, { Component } from 'react';\nimport { Chart } from \"chart.js\";\nimport percentDiff from 'percentage-difference'; // import \"./graph.css\";\n\nimport { VictoryChart, VictoryVoronoiContainer, VictoryLine, VictoryGroup, VictoryTooltip, VictoryScatter, VictoryAxis } from 'victory';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Graph = /*#__PURE__*/function (_Component) {\n  _inherits(Graph, _Component);\n\n  var _super = _createSuper(Graph);\n\n  function Graph() {\n    var _this;\n\n    _classCallCheck(this, Graph);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {// \tregionalTrends: null,\n      // \tstateTrends: null,\n      // \tnationTrends: null,\n      // \tyearsArr: []\n    };\n    return _this;\n  }\n\n  _createClass(Graph, [{\n    key: \"handleZoom\",\n    value: function handleZoom(domain) {\n      this.setState({\n        zoomDomain: domain\n      });\n    } //Loads props after componented mounted\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      //Calcuate percentage change for the following year\n      var constcalculatesChange = function constcalculatesChange(array) {\n        var diffsArr = [];\n\n        for (var i = 0; i < array.length; i++) {\n          diffsArr.push(percentDiff(array[0], array[i]));\n        }\n\n        ; // Return values in percent\n\n        return diffsArr;\n      }; //Generating year range for x-axis from start to end\n\n\n      var labels = function labels(start, end) {\n        var yearsArr = [];\n\n        for (var i = start; i <= end; i++) {\n          yearsArr.push(i);\n        }\n\n        ;\n        return yearsArr;\n      }; //Shortening name\n\n\n      var data = this.props.dataObj; // console.log(data);\n\n      this.setState({\n        //Trends\n        regionalTrends: constcalculatesChange(data.trend_comparison.regional),\n        stateTrends: constcalculatesChange(data.trend_comparison.state),\n        nationTrends: constcalculatesChange(data.trend_comparison.nation),\n        yearsArr: labels(data.summary.jobs_growth.start_year, data.summary.jobs_growth.end_year)\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxDEV(VictoryChart, {\n        height: 500,\n        width: 1000,\n        containerComponent: /*#__PURE__*/_jsxDEV(VictoryVoronoiContainer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(VictoryGroup, {\n          color: \"#c43a31\",\n          labels: function labels(_ref) {\n            var datum = _ref.datum;\n            return \"\".concat(datum._y);\n          },\n          data: [{\n            x: 2014,\n            y: 342\n          }],\n          children: [/*#__PURE__*/_jsxDEV(VictoryLine, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(VictoryScatter, {\n            size: function size(_ref2) {\n              var active = _ref2.active;\n              return active ? 8 : 3;\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 4\n      }, this);\n    }\n  }]);\n\n  return Graph;\n}(Component);\n\n;\nexport default Graph;","map":{"version":3,"sources":["C:/Users/Peter/Desktop/Github/restful-api/src/components/graph/graph.js"],"names":["React","Component","Chart","percentDiff","VictoryChart","VictoryVoronoiContainer","VictoryLine","VictoryGroup","VictoryTooltip","VictoryScatter","VictoryAxis","Graph","state","domain","setState","zoomDomain","constcalculatesChange","array","diffsArr","i","length","push","labels","start","end","yearsArr","data","props","dataObj","regionalTrends","trend_comparison","regional","stateTrends","nationTrends","nation","summary","jobs_growth","start_year","end_year","datum","_y","x","y","active"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Chart } from \"chart.js\";\r\nimport percentDiff from 'percentage-difference';\r\n// import \"./graph.css\";\r\nimport { VictoryChart, VictoryVoronoiContainer, VictoryLine, VictoryGroup, VictoryTooltip, VictoryScatter, VictoryAxis    } from 'victory';\r\n\r\nclass Graph extends Component {\r\n\r\n\t//Declaring states\r\n\tstate={\r\n\r\n\t// \tregionalTrends: null,\r\n\t// \tstateTrends: null,\r\n\t// \tnationTrends: null,\r\n\t// \tyearsArr: []\r\n\t};\r\n\r\n\thandleZoom(domain) {\r\n\t\tthis.setState({ zoomDomain: domain });\r\n\t}\r\n\t//Loads props after componented mounted\r\n\tcomponentDidMount(){\r\n\r\n\t\t//Calcuate percentage change for the following year\r\n\t\tconst constcalculatesChange = array => {\r\n\t\t\tlet diffsArr = [];\r\n\t\t\t\tfor(let i=0; i < array.length; i++){\r\n\t\t\t\t\tdiffsArr.push(percentDiff(array[0], array[i]))\r\n\t\t\t\t};\r\n\r\n\t\t\t// Return values in percent\r\n\t\t\treturn(diffsArr);\r\n\t\t};\r\n\r\n\t\t//Generating year range for x-axis from start to end\r\n\t\tconst labels = (start, end) => {\r\n\t\t\tlet yearsArr = [];\r\n\t\t\tfor(let i = start; i <= end; i++){\r\n\t\t\t\tyearsArr.push(i);\r\n\t\t\t};\r\n\t\t\treturn(yearsArr);\r\n\t\t};\r\n\r\n\t\t//Shortening name\r\n\t\tlet data = this.props.dataObj;\r\n\t\t// console.log(data);\r\n\r\n\t\tthis.setState({\r\n\r\n\t\t\t//Trends\r\n\t\t\tregionalTrends: constcalculatesChange(data.trend_comparison.regional),\r\n\t\t\tstateTrends: constcalculatesChange(data.trend_comparison.state),\r\n\t\t\tnationTrends: constcalculatesChange(data.trend_comparison.nation),\r\n\t\t\tyearsArr: labels(data.summary.jobs_growth.start_year,data.summary.jobs_growth.end_year)\r\n\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<VictoryChart height={500} width={1000}\r\n\t\t\t\tcontainerComponent={<VictoryVoronoiContainer />}\r\n\t\t\t>\r\n\t\t\t\t{/* <VictoryAxis\r\n\t\t\t\t\ttickValues={[2.11, 3.9, 6.1, 8.05]}\r\n\t\t\t\t/>\r\n\t\t\t\t<VictoryAxis dependentAxis={true}\r\n\t\t\t\t\ttickValues={this.state.yearsArr}\r\n\t\t\t\t/> */}\r\n\r\n\t\t\t\t<VictoryGroup\r\n\t\t\t\t\tcolor=\"#c43a31\"\r\n\t\t\t\t\tlabels={({ datum }) => `${datum._y}`}\r\n\t\t\t\t\tdata={[{x: 2014, y: 342}]}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t\t<VictoryLine />\r\n\t\t\t\t\t<VictoryScatter\r\n\t\t\t\t\t\tsize={({ active }) => active ? 8 : 3}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</VictoryGroup>\r\n\t\t\t\t{/* <VictoryGroup\r\n\t\t\t\t\tlabels={({ datum }) => ` ${datum._y}`}\r\n\t\t\t\t\tdata={this.state.stateTrends}\r\n\t\t\t\t>\r\n\t\t\t\t\t<VictoryLine />\r\n\t\t\t\t\t<VictoryScatter\r\n\t\t\t\t\t\tsize={({ active }) => active ? 8 : 3}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</VictoryGroup>\r\n\t\t\t\t<VictoryGroup\r\n\t\t\t\t\tlabels={({ datum }) => ` ${datum._y}`}\r\n\t\t\t\t\tdata={this.state.nationTrends}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t\t<VictoryLine />\r\n\t\t\t\t\t<VictoryScatter\r\n\t\t\t\t\t\tsize={({ active }) => active ? 8 : 3}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</VictoryGroup> */}\r\n\t\t\t</VictoryChart>\r\n\t\t);\r\n\t}\r\n};\r\n\r\nexport default Graph;\r\n"]},"metadata":{},"sourceType":"module"}